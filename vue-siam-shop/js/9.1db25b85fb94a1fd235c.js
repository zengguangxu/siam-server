(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1088:function(e,t,a){var r=a(1156);"string"==typeof r&&(r=[[e.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(276)(r,s);r.locals&&(e.exports=r.locals)},1154:function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},1155:function(e,t,a){"use strict";a(1088)},1156:function(e,t,a){},1165:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"todayBox"},[t("div",{staticClass:"totdayBlock blue"},[t("p",{staticClass:"todayBlockTitle"},[e._v("入账金额")]),e._v(" "),t("p",{staticClass:"todayBlockNum"},[t("span",[e._v("￥"+e._s(e.todayList.incomeAmount||0))])])]),e._v(" "),t("div",{staticClass:"totdayBlock green"},[t("p",{staticClass:"todayBlockTitle"},[e._v("出账金额")]),e._v(" "),t("p",{staticClass:"todayBlockNum"},[t("span",[e._v("￥"+e._s(e.todayList.expendAmount||0))])])])]),e._v(" "),t("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[t("el-form",{attrs:{inline:!0,model:e.searchMsg,size:"small"}},[t("el-form-item",[t("el-input",{attrs:{placeholder:"请输入订单编号搜索",clearable:""},model:{value:e.searchMsg.orderNo,callback:function(t){e.$set(e.searchMsg,"orderNo",t)},expression:"searchMsg.orderNo"}})],1),e._v(" "),t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择账单类型搜索",clearable:""},model:{value:e.searchMsg.type,callback:function(t){e.$set(e.searchMsg,"type",t)},expression:"searchMsg.type"}},[t("el-option",{attrs:{label:"用户下单",value:1}}),e._v(" "),t("el-option",{attrs:{label:"商家提现",value:2}}),e._v(" "),t("el-option",{attrs:{label:"商家提现失败退回",value:3}}),e._v(" "),t("el-option",{attrs:{label:"商家自配送-配送费收入",value:6}}),e._v(" "),t("el-option",{attrs:{label:"用户一分钟内取消订单",value:7}}),e._v(" "),t("el-option",{attrs:{label:"用户一分钟内取消订单-配送费退回",value:8}}),e._v(" "),t("el-option",{attrs:{label:"用户申请退款",value:9}}),e._v(" "),t("el-option",{attrs:{label:"用户申请退款-配送费退回",value:10}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:""}},[t("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.searchMsg.createTime,callback:function(t){e.$set(e.searchMsg,"createTime",t)},expression:"searchMsg.createTime"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getList(1)}}},[e._v("查询")])],1)],1)],1),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,"highlight-current-row":"","cell-style":e.cellStyle,"header-cell-style":e.headerCellStyle}},[t("el-table-column",{attrs:{prop:"type",label:"账单类型",formatter:e.formatType}}),e._v(" "),t("el-table-column",{attrs:{prop:"number",label:"金额(元)"},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.operateType?t("span",{staticStyle:{color:"red","font-weight":"bold"}},[e._v("+"+e._s(e.changeDecimal(a.row.number,2)))]):2==a.row.operateType?t("span",{staticStyle:{color:"green","font-weight":"bold"}},[e._v("-"+e._s(e.changeDecimal(a.row.number,2)))]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"message",label:"记录消息"}}),e._v(" "),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:e.formatTime}})],1),e._v(" "),t("el-col",{staticClass:"toolbar",attrs:{span:24}},[t("el-pagination",{staticStyle:{float:"right"},attrs:{"page-sizes":[10,20,50,100],"page-size":e.searchMsg.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)};r._withStripped=!0;a(1154);var s={data:()=>({pickerOptions:{shortcuts:[{text:"最近一周",onClick(e){const t=new Date;let a=new Date;a.setTime(t.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近两周",onClick(e){const t=new Date;let a=new Date;a.setTime(t.getTime()-12096e5),e.$emit("pick",[a,t])}},{text:"最近一月",onClick(e){const t=new Date;let a=new Date;a.setTime(t.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三月",onClick(e){const t=new Date;let a=new Date;a.setTime(t.getTime()-7776e6),e.$emit("pick",[a,t])}},{text:"最近半年",onClick(e){const t=new Date;let a=new Date;a.setTime(t.getTime()-15552e6),e.$emit("pick",[a,t])}},{text:"最近一年",onClick(e){const t=new Date;let a=new Date;a.setTime(t.getTime()-31104e6),e.$emit("pick",[a,t])}},{text:"最近两年",onClick(e){const t=new Date;let a=new Date;a.setTime(t.getTime()-62208e6),e.$emit("pick",[a,t])}},{text:"最近三年",onClick(e){const t=new Date;let a=new Date;a.setTime(t.getTime()-93312e6),e.$emit("pick",[a,t])}}]},todayList:{},searchMsg:{pageNo:1,pageSize:20},list:[],total:0,listLoading:!1}),methods:{changeDecimal:(e,t)=>e,cellStyle:({row:e,column:t,rowIndex:a,columnIndex:r})=>"text-align:center",headerCellStyle:({row:e,rowIndex:t})=>"text-align:center",formatTime(e,t){let a=new Date(e[t.property]);return this.$utils.formatDate(a,"yyyy-MM-dd hh:mm:ss")},formatType(e,t){switch(e.type){case 1:return"用户下单";case 2:return"商家提现";case 3:return"商家提现失败退回";case 4:return"自取订单改为配送，收入减少";case 5:return"自取订单改为配送，收入增加";case 6:return"商家自配送-配送费收入";case 7:return"用户一分钟内取消订单";case 8:return"用户一分钟内取消订单-配送费退回";case 9:return"用户申请退款";case 10:return"用户申请退款-配送费退回"}},formatOperateType:(e,t)=>1==e.operateType?"增加":"减少",formatCoinType:(e,t)=>1==e.coinType?"余额":"",addUnitFixedTwo:(e,t)=>Number(e[t.property]||0).toFixed(2)+"元",getList(e){e&&(this.searchMsg.pageNo=e);let t=this,a=Object.assign({},t.searchMsg);if(a.coinType=1,null!=a.orderNo&&""!=a.orderNo&&(a.message="订单号%"+a.orderNo),t.searchMsg.createTime){let e=t.searchMsg.createTime[0],r=t.searchMsg.createTime[1];a.startCreateTime=this.$utils.formatDate(new Date(e),"yyyy/MM/dd hh:mm:ss"),a.endCreateTime=this.$utils.formatDate(new Date(r),"yyyy/MM/dd hh:mm:ss"),delete a.createTime}t.listLoading=!0,t.$http.post(t,"/rest/merchant/merchantBillingRecord/list",a,(e,t)=>{e.list=t.data.records,e.total=t.data.total,e.listLoading=!1},(e,a)=>{t.listLoading=!1,t.$message({showClose:!0,message:a.message,type:"error"})}),t.$http.post(t,"/rest/merchant/merchantBillingRecord/statisticalAmount",a,(e,t)=>{e.todayList.incomeAmount=Number(t.data.incomeAmount).toFixed(2),e.todayList.expendAmount=Number(t.data.expendAmount).toFixed(2),this.$forceUpdate()},(e,a)=>{t.$message({showClose:!0,message:a.message,type:"error"})})},handleSizeChange(e){this.searchMsg.pageSize=e,this.getList()},handleCurrentChange(e){this.searchMsg.pageNo=e,this.getList()}},mounted(){this.getList(),this.$orderPrint.init()}},n=(a(1155),a(275)),o=Object(n.a)(s,r,[],!1,null,"8c7a17c6",null);t.default=o.exports}}]);